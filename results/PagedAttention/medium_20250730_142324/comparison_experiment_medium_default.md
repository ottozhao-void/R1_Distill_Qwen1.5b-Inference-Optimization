# PagedAttention 对比实验完整报告

## 实验概述
**实验时间**: 2025-07-30 14:26:49  
**实验名称**: default  
**优化技术**: PagedAttention  
**批次级别**: medium  

## 实验配置

### 模型配置
- **模型**: /data1/zhaofanghan/.cache/huggingface/hub/DeepSeek-R1-Distill-Qwen-1.5B
- **设备**: [6]
- **批次大小**: 4

### 推理参数
- **最大tokens**: 100
- **温度**: 0.8
- **Top-p**: 0.95

### 测试参数
- **提示数量**: 10
- **预热迭代**: 3
- **测试迭代**: 5

## 基础推理实验结果

### 延迟指标
- **总时间**: 130.237s
- **平均延迟**: 26047.04ms
- **P50延迟**: 26338.01ms
- **P95延迟**: 26447.78ms
- **P99延迟**: 26452.77ms
- **首token时间**: 2628.47ms
- **每输出token时间**: 32.14ms

### 吞吐量指标
- **Tokens/秒**: 31.11
- **请求/秒**: 0.04

### 内存使用
- **GPU内存峰值**: 3409.34MB
- **GPU内存当前**: 3397.65MB
- **CPU内存**: 1812.41MB

## 优化推理实验结果

### 延迟指标
- **总时间**: 11.428s
- **平均延迟**: 2284.96ms
- **P50延迟**: 2294.60ms
- **P95延迟**: 2314.89ms
- **P99延迟**: 2316.39ms
- **首token时间**: 2271.43ms
- **每输出token时间**: 2.89ms

### 吞吐量指标
- **Tokens/秒**: 345.38
- **请求/秒**: 0.44

### 内存使用
- **GPU内存峰值**: 8.12MB
- **GPU内存当前**: 8.12MB
- **CPU内存**: 2020.02MB

## 性能改进分析

### 改进指标对比
| 指标 | 基础推理 | 优化推理 | 改进 |
|------|----------|----------|------|
| 平均延迟 | 26047.04ms | 2284.96ms | +91.2% |
| 吞吐量 | 31.11 tokens/s | 345.38 tokens/s | +1010.1% |
| GPU内存峰值 | 3409.34MB | 8.12MB | +99.8% |
| 首token时间 | 2628.47ms | 2271.43ms | +13.6% |
| 每输出token时间 | 32.14ms | 2.89ms | +91.0% |

### 优化效果总结
- ✅ **显著性能提升**: PagedAttention技术显著提升了推理性能
- 💾 **显著内存节省**: 内存使用减少了99.8%
- 🚀 **显著延迟降低**: 平均延迟降低了91.2%

## 结论
本次实验对比了基础推理与使用PagedAttention技术的优化推理性能。结果显示PagedAttention技术在提升推理速度和节省内存方面都有良好表现。

---
*报告生成时间: 2025-07-30 14:26:49*
